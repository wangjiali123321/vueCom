!function(k,h,e){"use strict";var w="ht",P=k[w],H=null,g=Math,r=g.PI,u=g.cos,v=g.sin,S=g.abs,E=g.max,V=g.sqrt,m=1e-5,B=P.Default,T=B.def,p=B.startAnim,c=B.createMatrix,Z=B.transformVec,G=B.getInternal(),Q=G.addMethod,d=G.superCall,M=G.toPointsArray,J=G.createNormals,Y=G.toFloatArray,n=G.glMV,_=(G.glPop,G.batchShape),R=G.createNodeMatrix,b=G.getFaceInfo,s=G.transformAppend,f=G.drawFaceInfo,N=G.createAnim,D=G.cube(),W=D.is,z=D.vs,y=D.uv,O=G.ui(),C=P.Node,x=P.Shape,X="h",l="v",A="front",t="back",i="left",U="right",I="top",K="bottom",j="dw.expanded",o=".expanded",q="dw.angle",a=".angle",L=function(N,O,K){T(w+"."+N,O,K)},F=function(h,u,G){G?h.push(u.x,u.y):h.push(u.x,u.y,u.z)},$=[1,0,0],fb=function(z,Q,L,p){var F,y,t,m,R=0,I=[];if(p)for(F=p.length;F>R;R+=3)y=p[R],t=p[R+1],m=p[R+2],I.push(new Tb([new og([Q[3*y],Q[3*y+1],Q[3*y+2]],$,L?[L[2*y],L[2*y+1],0]:H),new og([Q[3*t],Q[3*t+1],Q[3*t+2]],$,L?[L[2*t],L[2*t+1],0]:H),new og([Q[3*m],Q[3*m+1],Q[3*m+2]],$,L?[L[2*m],L[2*m+1],0]:H)],z));else for(F=Q.length;F>R;R+=3)y=R,t=R+1,m=R+2,I.push(new Tb([new og([Q[3*y],Q[3*y+1],Q[3*y+2]],$,L?[L[2*y],L[2*y+1],0]:H),new og([Q[3*t],Q[3*t+1],Q[3*t+2]],$,L?[L[2*t],L[2*t+1],0]:H),new og([Q[3*m],Q[3*m+1],Q[3*m+2]],$,L?[L[2*m],L[2*m+1],0]:H)],z));return I},Em=[i,A,U,t,I,K],ci=Em.concat("csg"),Md=[0,6,12,18,24,30],Ng=function(r,J,f){var L=R(r),M=[];r.appendAnchorMatrix3d(L);for(var n=0;6>n;n++)for(var A=Em[n],l=Md[n],v=f?J.getFaceUv(r,A):H,q=f?J.getFaceUvScale(r,A):H,P=f?J.getFaceUvOffset(r,A):H,Q=0;2>Q;Q++){var b,X,s,S=W[l+3*Q],B=W[l+3*Q+1],d=W[l+3*Q+2];if(f){if(v){var t=8*n;b=[v[2*S-t],v[2*S+1-t],0],X=[v[2*B-t],v[2*B+1-t],0],s=[v[2*d-t],v[2*d+1-t],0]}else b=[y[2*S],y[2*S+1],0],X=[y[2*B],y[2*B+1],0],s=[y[2*d],y[2*d+1],0];q&&(b[0]*=q[0],b[1]*=q[1],X[0]*=q[0],X[1]*=q[1],s[0]*=q[0],s[1]*=q[1]),P&&(b[0]+=P[0],b[1]+=P[1],X[0]+=P[0],X[1]+=P[1],s[0]+=P[0],s[1]+=P[1])}M.push(new Tb([new og(Z([z[3*S],z[3*S+1],z[3*S+2]],L),$,b),new og(Z([z[3*B],z[3*B+1],z[3*B+2]],L),$,X),new og(Z([z[3*d],z[3*d+1],z[3*d+2]],L),$,s)],r))}return Cd.$15n(M)},Fi=function(W,N){var R,U=W.data.getAttaches();if(U&&U.each(function(J){J instanceof yh&&J.s("attach.operation")&&(R||(R=[]),R.push(J))}),R){var I;Em.forEach(function(r){var s=fb(r,W[r].vs,W[r].tuv);I=I?I.concat(s):s}),I=Cd.$15n(I),R.forEach(function(y){var z=y.s("attach.operation");I[z]&&(I=I[z](Ng(y,W.gv,W.csg.tuv)))}),Em.forEach(function(Q){Q=W[Q],Q.vs=[],Q.tuv&&(Q.tuv=[])}),I.$19n().forEach(function(Y){var J=Y.$10n;if(J instanceof yh){if(J.s("attach.cull"))return;J="csg"}for(var h=W[J],j=h.vs,G=h.tuv,z=Y.$9n,g=2;g<z.length;g++)F(j,z[0].$24n),F(j,z[g-1].$24n),F(j,z[g].$24n),G&&(F(G,z[0].uv,!0),F(G,z[g-1].uv,!0),F(G,z[g].uv,!0))})}ci.forEach(function(C){var r=W[C];r.visible&&r.vs.length?(r.ns=J(r.vs),Y(r,"vs"),Y(r,"tuv")):delete W[C]}),N&&(_(W,H,N),W.clear())};Q(B,{createFrameModel:function(v,h,J,M){v=v==H?.07:v,h=h==H?v:h,J=J==H?v:J,M=M?M:{};var F=M.top,c=M.bottom,A=M.left,B=M.right,b=M.front,C=M.back,S=[],e=[];return b===!0?(S.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),e.push(0,0,0,1,1,1,1,1,1,0,0,0)):b===!1||(S.push(-.5,.5,.5,-.5,-.5,.5,-.5+v,-.5,.5,-.5+v,-.5,.5,-.5+v,.5,.5,-.5,.5,.5,.5-v,.5,.5,.5-v,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-v,.5,.5,-.5+v,.5,.5,-.5+v,.5-h,.5,.5-v,.5-h,.5,.5-v,.5-h,.5,.5-v,.5,.5,-.5+v,.5,.5,-.5+v,-.5+h,.5,-.5+v,-.5,.5,.5-v,-.5,.5,.5-v,-.5,.5,.5-v,-.5+h,.5,-.5+v,-.5+h,.5),e.push(0,0,0,1,v,1,v,1,v,0,0,0,1-v,0,1-v,1,1,1,1,1,1,0,1-v,0,v,0,v,h,1-v,h,1-v,h,1-v,0,v,0,v,1-h,v,1,1-v,1,1-v,1,1-v,1-h,v,1-h)),C===!0?(S.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),e.push(1,0,0,1,1,1,0,1,1,0,0,0)):C===!1||(S.push(-.5,.5,-.5,-.5+v,-.5,-.5,-.5,-.5,-.5,-.5+v,-.5,-.5,-.5,.5,-.5,-.5+v,.5,-.5,.5-v,.5,-.5,.5,-.5,-.5,.5-v,-.5,-.5,.5,-.5,-.5,.5-v,.5,-.5,.5,.5,-.5,-.5+v,.5,-.5,.5-v,.5-h,-.5,-.5+v,.5-h,-.5,.5-v,.5-h,-.5,-.5+v,.5,-.5,.5-v,.5,-.5,-.5+v,-.5+h,-.5,.5-v,-.5,-.5,-.5+v,-.5,-.5,.5-v,-.5,-.5,-.5+v,-.5+h,-.5,.5-v,-.5+h,-.5),e.push(1,0,1-v,1,1,1,1-v,1,1,0,1-v,0,v,0,0,1,v,1,0,1,v,0,0,0,1-v,0,v,h,1-v,h,v,h,1-v,0,v,0,1-v,1-h,v,1,1-v,1,v,1,1-v,1-h,v,1-h)),A===!0?(S.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),e.push(0,0,0,1,1,1,1,1,1,0,0,0)):A===!1||(S.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+J,-.5,-.5,-.5+J,-.5,.5,-.5+J,-.5,.5,-.5,-.5,.5,.5-J,-.5,-.5,.5-J,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-J,-.5,.5,-.5+J,-.5,.5-h,-.5+J,-.5,.5-h,.5-J,-.5,.5-h,.5-J,-.5,.5,.5-J,-.5,.5,-.5+J,-.5,-.5+h,-.5+J,-.5,-.5,-.5+J,-.5,-.5,.5-J,-.5,-.5,.5-J,-.5,-.5+h,.5-J,-.5,-.5+h,-.5+J),e.push(0,0,0,1,J,1,J,1,J,0,0,0,1-J,0,1-J,1,1,1,1,1,1,0,1-J,0,J,0,J,h,1-J,h,1-J,h,1-J,0,J,0,J,1-h,J,1,1-J,1,1-J,1,1-J,1-h,J,1-h)),B===!0?(S.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),e.push(1,0,0,1,1,1,0,1,1,0,0,0)):B===!1||(S.push(.5,.5,-.5,.5,-.5,-.5+J,.5,-.5,-.5,.5,-.5,-.5+J,.5,.5,-.5,.5,.5,-.5+J,.5,.5,.5-J,.5,-.5,.5,.5,-.5,.5-J,.5,-.5,.5,.5,.5,.5-J,.5,.5,.5,.5,.5,-.5+J,.5,.5-h,.5-J,.5,.5-h,-.5+J,.5,.5-h,.5-J,.5,.5,-.5+J,.5,.5,.5-J,.5,-.5+h,-.5+J,.5,-.5,.5-J,.5,-.5,-.5+J,.5,-.5,.5-J,.5,-.5+h,-.5+J,.5,-.5+h,.5-J),e.push(1,0,1-J,1,1,1,1-J,1,1,0,1-J,0,J,0,0,1,J,1,0,1,J,0,0,0,1-J,0,J,h,1-J,h,J,h,1-J,0,J,0,1-J,1-h,J,1,1-J,1,J,1,1-J,1-h,J,1-h)),F===!0?(S.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),e.push(1,1,1,0,0,0,0,0,0,1,1,1)):F===!1||(S.push(.5,.5,.5,.5,.5,-.5,.5-v,.5,-.5,.5-v,.5,-.5,.5-v,.5,.5,.5,.5,.5,-.5+v,.5,.5,-.5+v,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+v,.5,.5,.5-v,.5,.5,.5-v,.5,.5-J,-.5+v,.5,.5-J,-.5+v,.5,.5-J,-.5+v,.5,.5,.5-v,.5,.5,.5-v,.5,-.5+J,.5-v,.5,-.5,-.5+v,.5,-.5,-.5+v,.5,-.5,-.5+v,.5,-.5+J,.5-v,.5,-.5+J),e.push(1,1,1,0,1-v,0,1-v,0,1-v,1,1,1,v,1,v,0,0,0,0,0,0,1,v,1,1-v,1,1-v,1-J,v,1-J,v,1-J,v,1,1-v,1,1-v,J,1-v,0,v,0,v,0,v,J,1-v,J)),c===!0?(S.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),e.push(1,0,0,1,1,1,0,1,1,0,0,0)):c===!1||(S.push(.5,-.5,.5,.5-v,-.5,-.5,.5,-.5,-.5,.5-v,-.5,-.5,.5,-.5,.5,.5-v,-.5,.5,-.5+v,-.5,.5,-.5,-.5,-.5,-.5+v,-.5,-.5,-.5,-.5,-.5,-.5+v,-.5,.5,-.5,-.5,.5,.5-v,-.5,.5,-.5+v,-.5,.5-J,.5-v,-.5,.5-J,-.5+v,-.5,.5-J,.5-v,-.5,.5,-.5+v,-.5,.5,.5-v,-.5,-.5+J,-.5+v,-.5,-.5,.5-v,-.5,-.5,-.5+v,-.5,-.5,.5-v,-.5,-.5+J,-.5+v,-.5,-.5+J),e.push(1,0,1-v,1,1,1,1-v,1,1,0,1-v,0,v,0,0,1,v,1,0,1,v,0,0,0,1-v,0,v,J,1-v,J,v,J,1-v,0,v,0,1-v,1-J,v,1,1-v,1,v,1,1-v,1-J,v,1-J)),{vs:S,uv:e}}}),Q(P.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":e,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":r/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Em.forEach(function(F){var w={};w[F+o]=!1,w[F+".toggleable"]=!1,w[F+".axis"]=i,w[F+".start"]=0,w[F+".end"]=r/2,w[F+a]=0,Q(P.Style,w,!0)});var Cd=function(){this.$4n=[]};Cd.$15n=function(Q){var l=new Cd;return l.$4n=Q,l},Cd.prototype={clone:function(){var b=new Cd;return b.$4n=this.$4n.map(function(T){return T.clone()}),b},$19n:function(){return this.$4n},union:function(X){var v=new Xj(this.clone().$4n),w=new Xj(X.clone().$4n);return v.$3n(w),w.$3n(v),w.$6n(),w.$3n(v),w.$6n(),v.$7n(w.$2n()),Cd.$15n(v.$2n())},subtract:function(N){var G=new Xj(this.clone().$4n),B=new Xj(N.clone().$4n);return G.$6n(),G.$3n(B),B.$3n(G),B.$6n(),B.$3n(G),B.$6n(),G.$7n(B.$2n()),G.$6n(),Cd.$15n(G.$2n())},intersect:function(G){var V=new Xj(this.clone().$4n),U=new Xj(G.clone().$4n);return V.$6n(),U.$3n(V),U.$6n(),V.$3n(U),U.$3n(V),V.$7n(U.$2n()),V.$6n(),Cd.$15n(V.$2n())},inverse:function(){var g=this.clone();return g.$4n.map(function(W){W.flip()}),g}},Cd.cube=function(v){v=v||{};var x=new ko(v.center||[0,0,0]),c=v.radius?v.radius.length?v.radius:[v.radius,v.radius,v.radius]:[1,1,1];return Cd.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(r){return new Tb(r[0].map(function(m){var b=new ko(x.x+c[0]*(2*!!(1&m)-1),x.y+c[1]*(2*!!(2&m)-1),x.z+c[2]*(2*!!(4&m)-1));return new og(b,new ko(r[1]))}))}))},Cd.sphere=function(G){function A(k,g){k*=2*r,g*=r;var o=new ko(u(k)*v(g),u(g),v(k)*v(g));R.push(new og(U.$20n(o.$21n(Y)),o))}G=G||{};for(var R,U=new ko(G.center||[0,0,0]),Y=G.radius||1,t=G.slices||16,d=G.stacks||8,W=[],y=0;t>y;y++)for(var P=0;d>P;P++)R=[],A(y/t,P/d),P>0&&A((y+1)/t,P/d),d-1>P&&A((y+1)/t,(P+1)/d),A(y/t,(P+1)/d),W.push(new Tb(R));return Cd.$15n(W)},Cd.cylinder=function(G){function P(d,P,U){var z=2*P*r,Z=A.$21n(u(z)).$20n(s.$21n(v(z))),X=i.$20n(C.$21n(d)).$20n(Z.$21n(N)),f=Z.$21n(1-S(U)).$20n(y.$21n(U));return new og(X,f)}G=G||{};for(var i=new ko(G.start||[0,-1,0]),U=new ko(G.end||[0,1,0]),C=U.$13n(i),N=G.radius||1,h=G.slices||16,y=C.$14n(),W=S(y.y)>.5,A=new ko(W,!W,0).$12n(y).$14n(),s=A.$12n(y).$14n(),$=new og(i,y.$11n()),k=new og(U,y.$14n()),I=[],_=0;h>_;_++){var l=_/h,g=(_+1)/h;I.push(new Tb([$,P(0,l,-1),P(0,g,-1)])),I.push(new Tb([P(0,g,0),P(0,l,0),P(1,l,0),P(1,g,0)])),I.push(new Tb([k,P(1,g,1),P(1,l,1)]))}return Cd.$15n(I)};var ko=function(C,f,e){var o=this;3==arguments.length?(o.x=C,o.y=f,o.z=e):"x"in C?(o.x=C.x,o.y=C.y,o.z=C.z):(o.x=C[0],o.y=C[1],o.z=C[2])};ko.prototype={clone:function(){return new ko(this.x,this.y,this.z)},$11n:function(){return new ko(-this.x,-this.y,-this.z)},$20n:function(J){return new ko(this.x+J.x,this.y+J.y,this.z+J.z)},$13n:function(x){return new ko(this.x-x.x,this.y-x.y,this.z-x.z)},$21n:function(b){return new ko(this.x*b,this.y*b,this.z*b)},$16n:function(b){return new ko(this.x/b,this.y/b,this.z/b)},$23n:function(l){return this.x*l.x+this.y*l.y+this.z*l.z},lerp:function(w,E){return this.$20n(w.$13n(this).$21n(E))},length:function(){return V(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(f){var B=this;return new ko(B.y*f.z-B.z*f.y,B.z*f.x-B.x*f.z,B.x*f.y-B.y*f.x)}};var og=function(x,p,S){var b=this;b.$24n=new ko(x),b.$22n=new ko(p),b.uv=S?new ko(S):null};og.prototype={clone:function(){var e=this;return new og(e.$24n.clone(),e.$22n.clone(),e.uv?e.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(_,Z){var k=this;return new og(k.$24n.lerp(_.$24n,Z),k.$22n.lerp(_.$22n,Z),k.uv?k.uv.lerp(_.uv,Z):null)}};var $r=function(M,x){this.$22n=M,this.w=x};$r.$17n=function(y,A,K){var j=A.$13n(y).$12n(K.$13n(y)).$14n();return new $r(j,j.$23n(y))},$r.prototype={clone:function(){return new $r(this.$22n.clone(),this.w)},flip:function(){var m=this;m.$22n=m.$22n.$11n(),m.w=-m.w},$5n:function(G,U,B,L,u){for(var g=this,_=0,z=1,A=2,E=3,N=0,Q=[],h=0;h<G.$9n.length;h++){var j=g.$22n.$23n(G.$9n[h].$24n)-g.w,H=-m>j?A:j>m?z:_;N|=H,Q.push(H)}switch(N){case _:(g.$22n.$23n(G.$8n.$22n)>0?U:B).push(G);break;case z:L.push(G);break;case A:u.push(G);break;case E:for(var T=[],R=[],h=0;h<G.$9n.length;h++){var q=(h+1)%G.$9n.length,c=Q[h],V=Q[q],f=G.$9n[h],o=G.$9n[q];if(c!=A&&T.push(f),c!=z&&R.push(c!=A?f.clone():f),(c|V)==E){var j=(g.w-this.$22n.$23n(f.$24n))/g.$22n.$23n(o.$24n.$13n(f.$24n)),a=f.$18n(o,j);T.push(a),R.push(a.clone())}}T.length>=3&&L.push(new Tb(T,G.$10n)),R.length>=3&&u.push(new Tb(R,G.$10n))}}};var Tb=function(V,e){var g=this;g.$9n=V,g.$10n=e,g.$8n=$r.$17n(V[0].$24n,V[1].$24n,V[2].$24n)};Tb.prototype={clone:function(){var b=this.$9n.map(function(W){return W.clone()});return new Tb(b,this.$10n)},flip:function(){this.$9n.reverse().map(function(l){l.flip()}),this.$8n.flip()}};var Xj=function(A){var h=this;h.$8n=null,h.front=null,h.back=null,h.$4n=[],A&&h.$7n(A)};Xj.prototype={clone:function(){var Z=this,V=new Xj;return V.$8n=Z.$8n&&Z.$8n.clone(),V.front=Z.front&&Z.front.clone(),V.back=Z.back&&Z.back.clone(),V.$4n=Z.$4n.map(function(M){return M.clone()}),V},$6n:function(){for(var B=this,u=0;u<B.$4n.length;u++)B.$4n[u].flip();B.$8n&&B.$8n.flip(),B.front&&B.front.$6n(),B.back&&B.back.$6n();var n=B.front;B.front=B.back,B.back=n},$1n:function(R){var C=this;if(!C.$8n)return R.slice();for(var w=[],d=[],O=0;O<R.length;O++)C.$8n.$5n(R[O],w,d,w,d);return C.front&&(w=C.front.$1n(w)),d=C.back?C.back.$1n(d):[],w.concat(d)},$3n:function(d){var y=this;y.$4n=d.$1n(y.$4n),y.front&&y.front.$3n(d),y.back&&y.back.$3n(d)},$2n:function(){var D=this,f=D.$4n.slice();return D.front&&(f=f.concat(D.front.$2n())),D.back&&(f=f.concat(D.back.$2n())),f},$7n:function(J){var $=this;if(J.length){$.$8n||($.$8n=J[0].$8n.clone());for(var o=[],v=[],m=0;m<J.length;m++)this.$8n.$5n(J[m],$.$4n,$.$4n,o,v);o.length&&($.front||($.front=new Xj),this.front.$7n(o)),v.length&&($.back||($.back=new Xj),$.back.$7n(v))}}};var jc="symbol",ks=P.Symbol=function(P,L,p){var k=this;d(ks,k),k.s3(20,20,20),k.s({"all.visible":!1,shape:"rect"}),k.setIcon(P,L,p)};L("Symbol",C,{setIcon:function(T,o,g){var b,h=this;return ks.superClass.setIcon.call(h,T),T?(b={for3d:!0,face:"center",position:44,names:[T]},g&&(b.transaprent=!0),o&&(b.autorotate=o),h.addStyleIcon(jc,b)):h.removeStyleIcon(jc),h.setWidth(G.getImageWidth(B.getImage(T),h)||20),b}});var yh=P.CSGNode=function(){d(yh,this),this.s({shape:"rect","attach.thickness":1.001,"2d.attachable":!0})},ar={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,anchor:1,anchorElevation:1,"s:attach.cull":1,"s:attach.operation":1};L("CSGNode",C,{_22Q:function(){return Lc},onPropertyChanged:function(T){var D=this,E=D.getHost();yh.superClass.onPropertyChanged.call(D,T),ar[T.property]&&(E instanceof wj||E instanceof yh)&&E.fp("csgNodeChange",!0,!1)}});var Lc=function(q,k){d(Lc,this,[q,k])};T(Lc,O.Node3dUI,{_80o:function(F,X,T){var y=this;y._shape3d?Lc.superClass._80o.call(y,F,X,T):(n(y.gv),ci.forEach(function(C){f(y,F,X,C,T)}))},validate:function(r,M){var w=this,C=w.gv,q=w.data;if(q.s("shape3d"))return Lc.superClass.validate.call(w,r,M),w._shape3d=!0,void 0;w._shape3d=!1;var P=R(q,C.getMat(q));q.appendAnchorMatrix3d(P);var m=r&&r.uv;w.vf2("csg",m);for(var p=0;6>p;p++)for(var N=Em[p],X=Md[p],I=w.vf2(N,m,M),Z=I.mat||P,g=I.vs,l=I.uv,L=I.tuv,k=0;2>k;k++){var e=W[X+3*k],J=W[X+3*k+1],$=W[X+3*k+2];if(s(g,Z,[z[3*e],z[3*e+1],z[3*e+2]]),s(g,Z,[z[3*J],z[3*J+1],z[3*J+2]]),s(g,Z,[z[3*$],z[3*$+1],z[3*$+2]]),L)if(l){var o=8*p;L.push(l[2*e-o],l[2*e+1-o],l[2*J-o],l[2*J+1-o],l[2*$-o],l[2*$+1-o])}else L.push(y[2*e],y[2*e+1],y[2*J],y[2*J+1],y[2*$],y[2*$+1])}Fi(w,r,M)},vf2:function(r,F,Z){var K,W=this,G=W.gv.getFaceVisible(W.data,r);return K=b(W,r,Z),K.vs=[],K.tuv=G&&(K.texture||F)?[]:H,K.visible=G,K}});var wj=P.CSGShape=function(){var w=this;d(wj,w),w.s({"shape.background":H,"2d.hostable":!0,"shape.border.width":8}),w.setTall(240),w.setElevation(120),w.setThickness(14)};L("CSGShape",x,{IRotatable:!1,_22Q:function(){return Vd},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Vd=function(v,X){d(Vd,this,[v,X])};T(Vd,O.Shape3dUI,{_80o:function(Y,b,K){var w=this;w.undrawable||(n(w.gv),ci.forEach(function(L){f(w,Y,b,L,K)}))},validate:function(C,w){var r=this,D=r.data,d=D.getPoints();if(r.undrawable=d.size()<2)return r.clear(),void 0;var O=D.isClosePath(),_=E(D._thickness/2,m),R=M(d,H,H,O);ci.forEach(function(f){r.vf(f,C&&C.uv,!0,w)}),O&&(r.left.visible=!1,r.right.visible=!1),r._12O(R,_),r._20Q(R);var $=D.getPointsMatrix3d(),g=P.Math.requestVector3();Em.forEach(function(i){if(r[i])for(var u=r[i].vs,U=0,B=u.length;B>U;U+=3)g.set(u[U],u[U+1],u[U+2]).applyMatrix4($),u[U]=g.x,u[U+1]=g.y,u[U+2]=g.z}),P.Math.releaseVector3(g),Fi(r,C,w)}});var af=P.DoorWindow=function(){var X=this;d(af,X),X.setElevation(100),X.s3(100,200,14)};L("DoorWindow",yh,{IDoorWindow:!0,toggle:function(B){this.setExpanded(!this.s(j),B)},isExpanded:function(){return this.s(j)},setExpanded:function(a,G){var k=this,J=k.$25n,z=k.getDataModel(),l=k.s(j);if(J&&(J.stop(!0),delete k.$25n),l!==a){z&&z.beginTransaction();var B=a?k.s("dw.end"):k.s("dw.start");k.s(j,a),G=N(G),G?(l=k.s(q),G.action=function(p){k.s(q,l+(B-l)*p)},G.finishFunc=function(){z&&z.endTransaction()},k.$25n=p(G)):(k.s(q,B),z&&z.endTransaction())}},getMat:function(){var o=this,g=o.s("dw.s3"),h=o.s("dw.t3"),t=o.s("dw.flip"),R=o.s(q);if(g||R||h||t){var W=[];if(t&&W.push({r3:[0,r,0]}),g&&W.push({s3:g}),R){g=o.getFinalScale3d();var f=o.s("dw.axis"),A=g[0]/2,P=g[1]/2;g[2]/2,f===i?W.push({t3:[A,0,0]},{r3:[0,-R,0]},{t3:[-A,0,0]}):f===U?W.push({t3:[-A,0,0]},{r3:[0,R,0]},{t3:[A,0,0]}):f===I?W.push({t3:[0,-P,0]},{r3:[-R,0,0]},{t3:[0,P,0]}):f===K?W.push({t3:[0,P,0]},{r3:[R,0,0]},{t3:[0,-P,0]}):f===l?W.push({r3:[0,R,0]}):f===X&&W.push({r3:[R,0,0]})}return h&&W.push({t3:h}),c(W)}return H}});var Cf=P.CSGBox=function(){var W=this;d(Cf,W),W.setElevation(100),W.s3(100,200,100)};L("CSGBox",yh,{ICSGBox:!0,toggleFace:function(J,d){this.setFaceExpanded(J,!this.s(J+o),d)},isFaceExpanded:function(y){return this.s(y+o)},setFaceExpanded:function(j,d,i){var S=this,T=S.$25n,Y=S.s(j+o);if(T&&(T.stop(!0),delete S.$25n),Y!==d){var F=d?S.s(j+".end"):S.s(j+".start");S.s(j+o,d),i=N(i),i?(Y=S.s(j+a),i.action=function(A){S.s(j+a,Y+(F-Y)*A)},S.$25n=p(i)):S.s(j+a,F)}},getFaceMat:function(W){var h=this,N=h.s(W+a);if(!N)return H;var L,I,F,w,o,E,T=h.s(W+".axis"),e=h.getFinalScale3d(),u=h.getAnchor3d(),K=e[0]*u.x,i=e[1]*u.y,x=e[2]*u.z,J=e[0]-K,R=e[1]-i,v=e[2]-x,q=W+"_"+T;switch(q){case"front_left":L=-K,I=0,F=v,w=0,o=-N,E=0;break;case"front_right":L=J,I=0,F=v,w=0,o=N,E=0;break;case"front_top":L=0,I=R,F=v,w=-N,o=0,E=0;break;case"front_bottom":L=0,I=-i,F=v,w=N,o=0,E=0;break;case"front_h":L=0,I=0,F=v,w=N,o=0,E=0;break;case"front_v":L=0,I=0,F=v,w=0,o=N,E=0;break;case"back_left":L=J,I=0,F=-x,w=0,o=-N,E=0;break;case"back_right":L=-K,I=0,F=-x,w=0,o=N,E=0;break;case"back_top":L=0,I=R,F=-x,w=N,o=0,E=0;break;case"back_bottom":L=0,I=-i,F=-x,w=-N,o=0,E=0;break;case"back_h":L=0,I=0,F=-x,w=N,o=0,E=0;break;case"back_v":L=0,I=0,F=-x,w=0,o=N,E=0;break;case"left_left":L=-K,I=0,F=-x,w=0,o=-N,E=0;break;case"left_right":L=-K,I=0,F=v,w=0,o=N,E=0;break;case"left_top":L=-K,I=R,F=0,w=0,o=0,E=-N;break;case"left_bottom":L=-K,I=-i,F=0,w=0,o=0,E=N;break;case"left_h":L=-K,I=0,F=0,w=0,o=0,E=N;break;case"left_v":L=-K,I=0,F=0,w=0,o=N,E=0;break;case"right_left":L=J,I=0,F=v,w=0,o=-N,E=0;break;case"right_right":L=J,I=0,F=-x,w=0,o=N,E=0;break;case"right_top":L=J,I=R,F=0,w=0,o=0,E=N;break;case"right_bottom":L=J,I=-i,F=0,w=0,o=0,E=-N;break;case"right_h":L=J,I=0,F=0,w=0,o=0,E=N;break;case"right_v":L=J,I=0,F=0,w=0,o=N,E=0;break;case"top_left":L=-K,I=R,F=0,w=0,o=0,E=N;break;case"top_right":L=J,I=R,F=0,w=0,o=0,E=-N;break;case"top_top":L=0,I=R,F=-x,w=-N,o=0,E=0;break;case"top_bottom":L=0,I=R,F=v,w=N,o=0,E=0;break;case"top_h":L=0,I=R,F=0,w=N,o=0,E=0;break;case"top_v":L=0,I=R,F=0,w=0,o=0,E=N;break;case"bottom_left":L=-K,I=-i,F=0,w=0,o=0,E=-N;break;case"bottom_right":L=J,I=-i,F=0,w=0,o=0,E=N;break;case"bottom_top":L=0,I=-i,F=v,w=-N,o=0,E=0;break;case"bottom_bottom":L=0,I=-i,F=-x,w=N,o=0,E=0;break;case"bottom_h":L=0,I=-i,F=0,w=N,o=0,E=0;break;case"bottom_v":L=0,I=-i,F=0,w=0,o=0,E=N}return c([{t3:[-L,-I,-F]},{r3:[w,o,E]},{t3:[L,I,F]}])}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);