!function(X,Y,Q){"use strict";var I="ht",n=X[I],H=null,E=Math,q=E.abs,O=E.max,c=Number.MAX_VALUE,k=n.Default,u=k.getInternal(),j=k.clone,W=u.vec3TransformMat4,S=[0,0],B=u.appendArray,D=function(){function _(n,R,M,X){if(n){var N=n[X];if(N){M.ignoreColor||(R.color=N.kd),!M.ignoreTransparent&&N.d>0&&N.d<1&&(R.transparent=!0,R.opacity=N.d);var d;if(!M.ignoreImage&&(d=N.map_kd)){d=d.split(" ");for(var W=-1,j=0;j<d.length;j++)"-o"===d[j]?(R.uvOffset=[parseFloat(d[j+1]),parseFloat(d[j+2])],j+=3,W=j):"-s"===d[j]&&(R.uvScale=[parseFloat(d[j+1]),parseFloat(d[j+2])],j+=3,W=j);R.image=(M.prefix||"")+d.splice(W+1).join(" ")}}}}var h=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,Z=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,M=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,P=/^[og]\s*(.+)?/,l=function(x,f){return f=parseInt(f),f>=0?x[f-1]:x[f+x.length]},G=function(D,y,I,s,x){if(D.lvs){var P=l(y,s),k=l(y,x),r=I.matrix,J=D.lvs;r?(B(J,W(j(P),r)),B(J,W(j(k),r))):(B(J,P),B(J,k))}},J=function(C,f,E,Y,$,S){if(C.vs){var d=l(f,Y),K=l(f,$),A=l(f,S),k=E.matrix,y=C.vs;if(E.flipFace){var T=K;K=A,A=T}k?(B(y,W(j(d),k)),B(y,W(j(K),k)),B(y,W(j(A),k))):(B(y,d),B(y,K),B(y,A))}},I=function(j,o,p,M,Z,B){if(j.vs){var P=p.flipY,X=M===Q?S:l(o,M),g=Z===Q?S:l(o,Z),q=B===Q?S:l(o,B);if(p.flipFace){var y=g;g=q,q=y}j.uv.push(X[0],P?1-X[1]:X[1],g[0],P?1-g[1]:g[1],q[0],P?1-q[1]:q[1])}},Y=function(G,t,V,Q,k,$){if(G.vs){var i=l(t,Q),x=l(t,k),N=l(t,$),T=V.normalMatrix,u=G.ns;if(V.flipFace){var M=x;x=N,N=M}T?(B(u,W(j(i),T)),B(u,W(j(x),T)),B(u,W(j(N),T))):(B(u,i),B(u,x),B(u,N))}},K=function(r,Y,P,U){for(var e=U.length-1,y=0;e>y;++y)G(r,Y,P,U[y],U[y+1]);G(r,Y,P,U[e],U[0])},w=function($,D,P,u,U,L,r,q){var y=u&&u.length&&q;L[3]===Q?(J($,D,U,L[0],L[1],L[2]),r?I($,P,U,r[0],r[1],r[2]):$.uv&&$.uv.length&&I($,P,U),y&&Y($,u,U,q[0],q[1],q[2])):(J($,D,U,L[0],L[1],L[3]),J($,D,U,L[1],L[2],L[3]),r?(I($,P,U,r[0],r[1],r[3]),I($,P,U,r[1],r[2],r[3])):$.uv&&$.uv.length&&(I($,P,U),I($,P,U)),y&&(Y($,u,U,q[0],q[1],q[3]),Y($,u,U,q[1],q[2],q[3])))},y=function(P,g,l,R){var N,x,w,B,W,F,X,E,G=c,i=c,h=c,v=-c,K=-c,I=-c;for(N in P)for(F=P[N].vs,E=F.length,x=0;E>x;x+=3)w=F[x+0],B=F[x+1],W=F[x+2],G>w&&(G=w),i>B&&(i=B),h>W&&(h=W),w>v&&(v=w),B>K&&(K=B),W>I&&(I=W);if(l){var s=G+(v-G)/2,M=i+(K-i)/2,f=h+(I-h)/2;for(N in P){for(F=P[N].vs,E=F.length,x=0;E>x;x+=3)F[x+0]-=s,F[x+1]-=M,F[x+2]-=f;if(X=P[N].lvs)for(E=X.length,x=0;E>x;x+=3)X[x+0]-=s,X[x+1]-=M,X[x+2]-=f}}var Z,C,S;l?(Z=v-G,C=K-i,S=I-h):(Z=2*O(q(G),q(v)),C=2*O(q(i),q(K)),S=2*O(q(h),q(I))),0===Z&&(Z=Math.min(C,S)/1e3||.001),0===C&&(C=Math.min(Z,S)/1e3||.001),0===S&&(S=Math.min(Z,C)/1e3||.001),R.rawS3=[Z,C,S];for(N in P){if(F=P[N].vs,X=P[N].lvs,g){for(E=F.length,x=0;E>x;x+=3)Z&&(F[x+0]/=Z),C&&(F[x+1]/=C),S&&(F[x+2]/=S);if(X)for(E=X.length,x=0;E>x;x+=3)Z&&(X[x+0]/=Z),C&&(X[x+1]/=C),S&&(X[x+2]/=S);var p=P[N].ns;if(p){E=p.length;var A=new n.Math.Vector3;for(x=0;E>x;x+=3)A.set(p[x+0]*Z,p[x+1]*C,p[x+2]*S).normalize(),p[x+0]=A.x,p[x+1]=A.y,p[x+2]=A.z}}P[N].rawS3=R.rawS3}};return function(r,q,B){if(!r)return H;(u.isString(q)||q instanceof ArrayBuffer)&&(q=L(q)),B||(B={}),B.flipY==H&&(B.flipY=!0),(B.s3||B.r3||B.t3||B.mat)&&(B.matrix=u.createWorldMatrix(B.mat,B.s3,B.r3,B.rotationMode,B.t3));var e,x,$,F,R=n.Style["wf.loadQuadWireframe"],V=[],o=[],s=B.ignoreNormal?H:[],W=B.reverseFlipMtls,b={vs:[],uv:[],ns:s?[]:H},A={htdefault:b},G=new z(r),E="",Y="";for(s&&B.matrix&&(B.normalMatrix=u.createNormalMatrix(B.matrix));null!=(x=G.stepNext());)if(x=x.trim(),0!==x.length&&"#"!==x.charAt(0))if(x.indexOf("\\")!==x.length-1){if(E&&(x=E+x,E=""),x.indexOf("#QNAN0")>=0&&(x=x.replace(/#QNAN0/gi,"0")),$=h.exec(x))V.push([parseFloat($[1]),parseFloat($[2]),parseFloat($[3])]);else if($=Z.exec(x))o.push([parseFloat($[1]),parseFloat($[2])]);else if(s&&($=M.exec(x)))B.flipFace?s.push([parseFloat(-$[1]),parseFloat(-$[2]),parseFloat(-$[3])]):s.push([parseFloat($[1]),parseFloat($[2]),parseFloat($[3])]);else if("f"===x[0]){var f=x.split(/\s+/);if(f.length<4)continue;var C,e,d,i=[],U=[],m=[];for(e=1,d=f.length;d>e;e++)C=f[e].split("/"),i.push(parseInt(C[0],10)),C.length>1&&C[1].length>0&&m.push(parseInt(C[1],10)),C.length>2&&C[2].length>0&&U.push(parseInt(C[2],10));for(e=0,d=i.length-2;d>e;e++)w(b,V,o,s,B,[i[0],i[e+1],i[e+2]],m.length?[m[0],m[e+1],m[e+2]]:H,U.length?[U[0],U[e+1],U[e+2]]:H);R&&K(b,V,B,i)}else if(B.part&&null!==($=P.exec(x)))Y=(" "+$[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(x)){F=x.substring(7).trim();var Q=B.part?Y+"_"+F:F;(b=A[Q])||(b=A[Q]={name:Q,vs:[],uv:[],ns:s?[]:H,lvs:R?[]:H},B.ignoreMtls&&B.ignoreMtls.indexOf(F)>=0&&delete b.vs,(B.reverseFlip||"*"===W||W&&W.indexOf(F)>=0)&&(b.reverseFlip=!0),_(q,b,B,F))}}else E+=x.substring(0,x.length-1);var J=[];for(var D in A){var t=A[D].vs;if(t&&0!==t.length){var T=A[D].uv;if(T)for(var v=2*t.length/3-T.length;v-->0;)T.push(0)}else J.push(D)}J.forEach(function(M){delete A[M]}),y(A,B.cube,B.center,B);var I=B.shape3d;if(I){var X=[];for(var F in A){var b=A[F];X.rawS3=b.rawS3,X.push(b)}k.setShape3dModel(I,X)}return A}}(),L=function(E){var b={};if(E)for(var f,c,J,h,Z,y,s=new z(E),x=/\s+/;null!=(c=s.stepNext());)c=c.trim(),0!==c.length&&"#"!==c.charAt(0)&&(J=c.indexOf(" "),h=(J?c.substring(0,J):c).toLowerCase(),Z=(J?c.substring(J+1):"").trim(),"newmtl"===h?b[Z]=f={name:Z}:f&&("ka"===h||"kd"===h||"ks"===h?(y=Z.split(x,3),f[h]=[parseFloat(y[0]),parseFloat(y[1]),parseFloat(y[2]),1]):f[h]="ns"===h||"d"===h?parseFloat(Z):Z));return b},z=function(R){var W=this;if(R instanceof ArrayBuffer){W.isBuffer=!0;var q=0,E=new Uint8Array(R),P=E.length,n=E.length;W.stepNext=function(){for(var W,c,t=q;P>q;)if(W=E[q],c=W>>4,12===c||13==c)q+=2;else if(14===c)q+=3;else if(q++,10===W)return String.fromCharCode.apply(null,E.subarray(t,q));return q>t?String.fromCharCode.apply(null,E.subarray(t,q)):null}}else{W.isBuffer=!1;var L=R.split("\n"),K=0,n=L.length;W.stepNext=function(){return n>K?L[K++]:null}}};z.prototype={},z.prototype.constructor=z,u.addMethod(k,{loadObj:function(v,A,Z){Z=Z||{};var b=!1;/(MSIE |Trident\/|Edge\/)/.test(X.navigator.userAgent)&&(b=!0);var V=function(I){var J,o=Z.finishFunc,s=Z.shape3d,i=I?D(I[0],I[1],Z):null;if(i){if(s)J=k.getShape3dModel(s);else{J=[];for(var R in i){var X=i[R];J.rawS3=X.rawS3,J.push(X)}}o&&o(i,J,J.rawS3)}else o&&o(null)};if(b){Z.responseType="arraybuffer";var L=function(x){k.xhrLoad(v,function(e){V([e,x])},Z)};A?k.xhrLoad(A,function(x){L(x)},Z):L()}else k.xhrLoad(A?[v,A]:[v],V,Z)},parseObj:function(z,v,a){return D(z,v,a)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);